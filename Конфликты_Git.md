# Конфликты git

Когда один и тот же участок исходного кода редактируется разными разработчиками одновременно, то при слиянии программного кода система контроля версий не может определить, какой код считается правильным, это чаще всего и приводит к возникновению конфликта.

Чтобы решить этот конфликт, необходимо использовать сначала команду `git pull` (ПОЛУЧИТЬ изменения С УДАЛЕННОГО репозитория и ОБЪЕДИНИТЬ эти изменения С ЛОКАЛЬНЫМ репозиторием), а затем команду `git push` (ОТПРАВИТЬ изменения с локального репозитория НА УДАЛЕННЫЙ)

Либо вручную написать результирующий код, а после этого зафиксировать (закоммитить) изменения. Многие IDE, интегрированные с GIT, представляют удобный интерфейс для решения конфликтов.

Полностью избежать конфликтов нельзя, но можно сократить их количество, соблюдая некоторые правила. Эти правила должны вводиться руководителем команды, но соблюдение их ложится на всех членов команды.

1. **Решайте задачи таким образом, чтобы разработчики не производили изменения в одних и тех же участках кода одновременно.**

*Если требуется несколько правок в одном участке кода — поручите одному разработчику. Ведь если разработчики вынуждены работать с одним функционалом одновременно, вероятность конфликта возрастает, а время решения конфликта может превышать продолжительность написания кода, приведшего к конфликту.*

2. **Работайте с актуальной версией кода. Произошло изменение ветки, с которой предстоит слияние — вытяните эти изменения.**

*Всё просто — в потенциальном месте конфликта вы можете написать свой код уже ПОСЛЕ того, как другой разработчик напишет свой и опубликует, при этом конфликт не произойдёт.*

3. **Выработайте и соблюдайте требования к настройкам редактора кода, оформлению кода, используйте editorconfig.**

*Часто встречающийся реальный случай. Настройки редактора кода одного разработчика форматируют исходный код на отступ в четыре пробела. Настройки редактора второго — на отступ в два пробела. У обоих установлено автоформатирование перед push`ем. Получается, что в удаленный репозиторий уходят почти каждый раз практически все файлы проекта, а что ни слияние — то конфликт. В наше время существуют инструменты для задания конфигурирования форматирования для проекта (editorconfig) — изучите синтаксис и используйте.*

````
[*.{js,jsx,ts,tsx,vue}]
indent_style = space
indent_size = 2
end_of_line = lf
trim_trailing_whitespace = true
insert_final_newline = true
max_line_length = 100
````

4. **Внесите локальные настройки проекта и другие ЛОКАЛЬНЫЕ файлы в ".gitignore"**

5. **Соблюдайте рекомендации к разделению сущностей в различные файлы.**

*Если проект в тысячу строк написан в одном файле — конфликты будут очень частым явлением.*

6. **Соблюдайте рекомендации к наименованиям и иерархии.**

*Если назвать файлы, размещенные в каталоге Article «addArticle» и «addComment», а не «add» и «add», вероятность конфликта снизится до нуля.*

Часто конфликты может решить одна сторона. Но не всегда. Не забывайте, что работаете в команде и не пренебрегайте знаниями второй стороны о написанном коде в случае конфликта.
